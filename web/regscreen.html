<!DOCTYPE html>
<html>
<head>
  <title>User Registration</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
<!--  <div class="container">-->
<!--    <h1>User Registration</h1>-->
<!--    <form id="registration-form">-->
<!--      <input id="name" type="text" name="name" placeholder="Name" required />-->
<!--      <input id="email" type="email" name="email" placeholder="Email" required />-->
<!--      <input id="phone" type="tel" name="phone" placeholder="Phone" required />-->
<!--      <input id="password" type="password" name="password" placeholder="Password" required />-->
<!--      <input id="confirmPassword" type="password" name="confirmPassword" placeholder="Confirm Password" required />-->
<!--      <button id="submit" type="submit">Register</button>-->
<!--    </form>-->
<!--    &lt;!&ndash; Success and Error messages &ndash;&gt;-->
<!--    <div id="success-message" style="display: none; color: green; margin-top: 10px;">Registration successful!</div>-->
<!--    <div id="error-message" style="display: none; color: red; margin-top: 10px;">Registration failed: <span id="error-text"></span></div>-->
<!--  </div>-->
<!--   <script>-->
<!--    document.getElementById('registration-form').addEventListener('submit', async (e) => {-->
<!--      e.preventDefault();-->
<!--      const formData = new FormData(e.target);-->

<!--      const data = {-->
<!--        name: formData.get('name'),-->
<!--        email: formData.get('email'),-->
<!--        phone: formData.get('phone'),-->
<!--        password: formData.get('password'),-->
<!--        confirmPassword: formData.get('confirmPassword'),-->
<!--      };-->

<!--        document.getElementById('submit').innerText = 'Loading...';-->

<!--      const response = await fetch('http://localhost:3000/register', {-->
<!--        method: 'POST',-->
<!--        headers: {-->
<!--          'Content-Type': 'application/json',-->
<!--        },-->
<!--        body: JSON.stringify(data),-->
<!--      });-->

<!--      const result = await response.json();-->

<!--      if (response.status === 201) {-->


<!--       document.getElementById('submit').innerText = 'Registered Successfully';-->
<!--       //after 3 seconds, reset the button text-->
<!--         setTimeout(function() {-->
<!--          document.getElementById('submit').innerText = 'Register';-->
<!--         }, 3000);-->
<!--         //reset the form-->
<!--            document.getElementById('registration-form').reset();-->
<!--      } else {-->

<!--        document.getElementById('submit').innerText = result.message;-->
<!--        //after 2 seconds, reset the button text-->
<!--         setTimeout(function() {-->
<!--          document.getElementById('submit').innerText = 'Register';-->
<!--         }, 2000);-->
<!--         //reset the form-->
<!--            document.getElementById('registration-form').reset();-->
<!--      }-->
<!--    });-->
<!--  </script>-->
<!--login form-->
<div class="container">
    <h1>User Login</h1>
    <form id="login-form" >
      <input id="email" type="email" name="email" placeholder="Email" required />
      <input id="password" type="password" name="password" placeholder="Password" required />
      <button id="submit" type="submit">Login</button>
    </form>
    <!-- Success and Error messages -->
    <div id="success-message" style="display: none; color: green; margin-top: 10px;">Login successful!</div>
    <div id="error-message" style="display: none; color: red; margin-top: 10px;">Login failed: <span id="error-text"></span></div>
  </div>
   <script>
    document.getElementById('login-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(e.target);

      const data = {
        email: formData.get('email'),
        password: formData.get('password'),
      };

        document.getElementById('submit').innerText = 'Loading...';

      const response = await fetch('http://localhost:3000/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      });

      const result = await response.json();

      if (response.status === 200) {
        document.getElementById('submit').innerText = 'Login Successful';
        //after 3 seconds, reset the button text
         setTimeout(function() {
          document.getElementById('submit').innerText = 'Login';
         }, 3000);
         //reset the form
            document.getElementById('login-form').reset();

      }
      else {
        document.getElementById('submit').innerText = result.message;
        //after 2 seconds, reset the button text
         setTimeout(function() {
          document.getElementById('submit').innerText = 'Login';
         }, 2000);
         //reset the form
            document.getElementById('login-form').reset();
      }
    });
    </script>
</body>
</html>
